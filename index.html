<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Simple Blog</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #000000; color: #ffff00; font-family: Arial, sans-serif; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        header { text-align: center; margin-bottom: 40px; border-bottom: 2px solid #ffff00; padding-bottom: 20px; }
        h1 { font-size: 2.5em; margin-bottom: 10px; }
        .tagline { font-size: 1.1em; opacity: 0.8; }
        nav { text-align: center; margin-bottom: 40px; }
        nav a { color: #ffff00; text-decoration: none; margin: 0 20px; font-size: 1.1em; border: 1px solid #ffff00; padding: 8px 16px; transition: all 0.3s ease; }
        nav a:hover, nav a.active { background-color: #ffff00; color: #000000; }
        .page { display: none; }
        .page.active { display: block; }
        .blog-post { margin-bottom: 40px; padding: 20px; border: 1px solid #ffff00; background-color: #111111; }
        .post-title { font-size: 1.8em; margin-bottom: 10px; color: #ffff00; }
        .post-title a { color: #ffff00; text-decoration: none; }
        .post-title a:hover { text-decoration: underline; }
        .post-meta { font-size: 0.9em; opacity: 0.7; margin-bottom: 15px; }
        .post-excerpt { margin-bottom: 15px; }
        .read-more { color: #ffff00; text-decoration: none; border: 1px solid #ffff00; padding: 6px 12px; transition: all 0.3s ease; display: inline-block; }
        .read-more:hover { background-color: #ffff00; color: #000000; }
        .editor-section { background-color: #222222; border: 2px solid #ffff00; padding: 20px; margin-bottom: 40px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: #ffff00; }
        .form-group input, .form-group textarea { width: 100%; background-color: #000000; color: #ffff00; border: 1px solid #ffff00; padding: 8px; font-family: inherit; }
        .form-group textarea { height: 300px; resize: vertical; }
        .btn { background-color: #000000; color: #ffff00; border: 1px solid #ffff00; padding: 10px 20px; cursor: pointer; margin-right: 10px; }
        .btn:hover { background-color: #ffff00; color: #000000; }
        .output-section { margin-top: 20px; padding: 20px; background-color: #111111; border: 1px solid #ffff00; }
        .output-section pre { background-color: #000000; padding: 15px; overflow-x: auto; white-space: pre-wrap; font-size: 0.9em; }
        footer { text-align: center; margin-top: 60px; padding-top: 20px; border-top: 1px solid #ffff00; opacity: 0.7; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>My Simple Blog</h1>
            <p class="tagline">Dynamic GitHub Pages Blog</p>
        </header>

        <nav>
            <a href="#" onclick="showPage('home')" class="nav-link active">Home</a>
            <a href="#" onclick="showPage('about')" class="nav-link">About</a>
            <a href="#" onclick="showPage('contact')" class="nav-link">Contact</a>
            <a href="#" onclick="showPage('editor')" class="nav-link">Editor</a>
        </nav>

        <div id="home" class="page active">
            <div id="blog-posts-container">
                <div class="loading">Loading blog posts...</div>
            </div>
        </div>

        <div id="about" class="page">
            <div class="blog-post">
                <h2 class="post-title">About This Blog</h2>
                <div class="post-content">
                    <p>Welcome to my dynamic GitHub Pages blog! This blog automatically loads and displays posts from individual HTML files.</p>
                </div>
            </div>
        </div>

        <div id="contact" class="page">
            <div class="blog-post">
                <h2 class="post-title">Contact Me</h2>
                <div class="post-content">
                    <p>Email: your.email@example.com</p>
                </div>
            </div>
        </div>

        <div id="editor" class="page">
            <div class="editor-section">
                <h2>Blog Post Editor</h2>
                <div class="form-group">
                    <label for="post-title">Post Title:</label>
                    <input type="text" id="post-title">
                </div>
                <div class="form-group">
                    <label for="post-author">Author:</label>
                    <input type="text" id="post-author" value="Me">
                </div>
                <div class="form-group">
                    <label for="post-date">Date:</label>
                    <input type="date" id="post-date">
                </div>
                <div class="form-group">
                    <label for="post-filename">Filename (without .html):</label>
                    <input type="text" id="post-filename">
                </div>
                <div class="form-group">
                    <label for="post-content">Post Content (HTML):</label>
                    <textarea id="post-content"></textarea>
                </div>
                <button class="btn" onclick="generatePost()">Generate HTML File</button>
                <button class="btn" onclick="clearEditor()">Clear Form</button>
                <button class="btn" onclick="insertImage()">Insert Image</button>
                <button class="btn" onclick="insertLink()">Insert Link</button>
                <div id="output" class="output-section" style="display: none;">
                    <h3>Generated HTML File:</h3>
                    <p>Copy this content and save it as <span id="output-filename"></span></p>
                    <pre id="generated-html"></pre>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 My Simple Blog. All rights reserved.</p>
        </footer>
    </div>

    <script>
        const allFiles = [
            'welcome-post.html',
            'github-pages-blog.html',
            'dynamic-loading.html',
            'first.html'
        ];

        const staticPages = ['index.html', 'about.html', 'contact.html'];

        function showPage(pageId) {
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if (pageId === 'home') loadBlogPosts();
        }

        async function loadBlogPosts() {
            const container = document.getElementById('blog-posts-container');
            container.innerHTML = '<div class="loading">Loading blog posts...</div>';
            const blogPosts = allFiles.filter(file => !staticPages.includes(file));
            const postData = [];
            let hasErrors = false;

            for (const postFile of blogPosts) {
                try {
                    const response = await fetch(postFile);
                    if (response.ok) {
                        const html = await response.text();
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        const title = doc.querySelector('.post-title, h1')?.textContent.trim() || postFile;
                        const meta = doc.querySelector('.post-meta')?.textContent.trim() || 'Recent post';
                        const dateMatch = meta.match(/(\w+ \d{1,2}, \d{4})/);
                        const date = dateMatch ? new Date(dateMatch[1]) : new Date();
                        const content = doc.querySelector('.post-content, .content');
                        let excerpt = content?.querySelector('p')?.textContent.trim() || content?.textContent.trim() || '';
                        if (excerpt.length > 200) excerpt = excerpt.substring(0, 200) + '...';
                        postData.push({ date, html: `<article class="blog-post"><h2 class="post-title"><a href="${postFile}">${title}</a></h2><div class="post-meta">${meta}</div><div class="post-excerpt"><p>${excerpt}</p></div><a href="${postFile}" class="read-more">Read Full Post â†’</a></article>` });
                    } else hasErrors = true;
                } catch { hasErrors = true; }
            }

            postData.sort((a, b) => b.date - a.date);
            container.innerHTML = postData.map(p => p.html).join('') || '<div class="blog-post"><p>No posts found.</p></div>';
        }

        function insertImage() {
            const imageUrl = prompt("Enter image URL:");
            if (imageUrl) {
                const altText = prompt("Enter alt text:");
                document.getElementById('post-content').value += `<img src="${imageUrl}" alt="${altText || ''}">\n`;
            }
        }

        function insertLink() {
            const url = prompt("Enter URL:");
            const text = prompt("Enter link text:");
            if (url && text) {
                document.getElementById('post-content').value += `<a href="${url}" target="_blank">${text}</a>\n`;
            }
        }

        function generatePost() { /* unchanged */ }
        function clearEditor() { /* unchanged */ }

        document.getElementById('post-date').value = new Date().toISOString().split('T')[0];
        loadBlogPosts();
    </script>
</body>
</html>
